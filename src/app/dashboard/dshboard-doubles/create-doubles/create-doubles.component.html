<div class="common-dialog">
    <div class="innerContent">
        <form [formGroup]="_teamForm">
            <div class="topbar">
                <div class=" flex-sb flex-base">
                    <div class="content">
                        <div class=" flex-base _borderDropdown">
                            <!-- (onChange)="selectEventType($event)" -->
                            <!-- <p-dropdown  [options]="_abled" appendTo="body" placeholder="Select Event Type" 
                            optionLabel="name" [formControlName]="'abled'" [disabled]="edit"></p-dropdown>
                            <div class="error-txt-msg mb-2"
                                *ngIf="_isSubmitDetails && _teamForm.controls['category'].hasError('required')"
                                style="color: red">
                                <span style="color: red">*</span>{{'signupmanagement.req'|translate}}
                            </div> -->
                            <!-- <p-dropdown [options]="_eventParticipantType" appendTo="body" placeholder="Select Participant Type"
                                optionLabel="name" [formControlName]="'_particpantType'" [disabled]="edit" (onChange)="eventsParticipant()" optionValue="id"></p-dropdown>
                            <div class="error-txt-msg mb-2"
                                *ngIf="_isSubmitDetails && _teamForm.controls['_particpantType'].hasError('required')"
                                style="color: red">
                                <span style="color: red">*</span>{{'signupmanagement.req'|translate}}x
                            </div> -->
                            <div class="first">
                                <p-dropdown [options]="_gender" appendTo="body" placeholder="Select Gender"
                                    optionLabel="name" [formControlName]="'_genderType'" [disabled]="edit"
                                    (onChange)="getGender()" optionValue="id"></p-dropdown>
                                <div class="error-txt-msg mb-2"
                                    *ngIf="_isSubmitDetails && _teamForm.controls['_genderType'].hasError('required')"
                                    style="color: red">
                                    <span style="color: red">*</span>{{'signupmanagement.req'|translate}}
                                </div>
                            </div>
                            <div class="second">
                                <p-dropdown *ngIf="!edit" class="ms-2" [options]="_masterCategoriesList" appendTo="body"
                                    placeholder="Category" optionLabel="category_description"
                                    [formControlName]="'category'" [disabled]="false"></p-dropdown>

                                <p-dropdown [disabled]="true" *ngIf="edit" class="ms-2"
                                    [options]="_masterCategoriesList"
                                    placeholder={{this.mixedData.category.category_description}}
                                    optionLabel="category_description" [formControlName]="'category'"></p-dropdown>
                                <!-- <p-dropdown  *ngIf="!_showCategory"  class="ms-2"  appendTo="body"
                            placeholder="Class" 
                            [formControlName]="'category'" [disabled]="edit"></p-dropdown> -->

                                <div class="error-txt-msg mb-2"
                                    *ngIf="_isSubmitDetails && _teamForm.controls['category'].hasError('required')"
                                    style="color: red">
                                    <span style="color: red">*</span>{{'signupmanagement.req'|translate}}
                                </div>
                            </div>
                            <p-dropdown [(ngModel)]="selectedValue" class="ms-4" [options]="_playerList" [filter]="true"
                                appendTo="body" placeholder="Select Player" optionLabel="name"
                                (onFilter)="getAllPlayers($event)" [ngModelOptions]="{standalone: true}"
                                (onChange)="addPlayer($event)" (focusout)="clearDropdown($event)"></p-dropdown>

                        </div>
                    </div>
                    <div class="action" (click)="closePopUp()">
                        <i class="pi pi-times-circle text-danger p-links"></i>
                    </div>
                </div>
            </div>

            <div class="editable-heading ">

                <div class="heading-input">


                </div>
            </div>
        </form>
        <div class="player-array mt-2">
            <div class="playerRow">
                <!-- label={{getFirstLetters(item.name)}} -->
                <div class="flex-vc flex-sb mb-2" *ngFor="let item of _playersArray;let i=index">
                    <p-avatar shape="circle" label={{getFirstLetters(item.name)}} size="small"></p-avatar>
                    <p class="p-secondary">{{item.name}}</p>
                    <p class="p-secondary">{{item.email}}</p>
                    <p class="p-combine p-links" (click)="removePlayer(item,i)">Remove player</p>
                </div>
            </div>
        </div>
        <div class="mt-3">
            <button class="btn btn_green m-0 w-auto" (click)="duplicateTeam()">Save</button>
        </div>
        <div class="errorMsg mt-2" *ngIf="_isSubmitDetails && _playersArray.length < 2">
            <div class="flex-vc">
                <i class="pi pi-info-circle text-danger"></i>
                <p class="p-small text-danger ms-2">Sorry, doubles canâ€™t be created. Minimum 2 athletes are required.
                </p>
            </div>
        </div>
        <div class="errorMsg mt-2" *ngIf="_maxPlayer">
            <div class="flex-vc">
                <i class="pi pi-info-circle text-danger"></i>
                <p class="p-small text-danger ms-2">you cannot add more than two players in doubles.</p>
            </div>
        </div>
    </div>
</div>
<p-toast position="bottom-right" key="bc"></p-toast>