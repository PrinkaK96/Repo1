<!-- <p>stream-matches works!</p> -->
<!-- skelton layout starts  -->
<div class="skeletonlayout" *ngIf="!_skeleton" >
    <div class="partic">
      <div class="id" *ngFor="let item of idies">
        <p-skeleton shape="rectangle" width="15px" height="15px" animation="wave"></p-skeleton>
        <p-skeleton shape="rectangle" width="90px" height="15px" animation="wave"></p-skeleton>
      </div>
    </div>
    <p-divider></p-divider>
    <div class="partic" style="margin-top: 1rem">
      <div class="id" *ngFor="let item of idies">
        <p-skeleton shape="rectangle" width="15px" height="15px" animation="wave"></p-skeleton>
        <p-skeleton shape="rectangle" width="90px" height="15px" animation="wave"></p-skeleton>
      </div>
    </div>
   
    <div class="row" *ngFor="let item of two">
        <div class="col-lg-4" *ngFor="let item of three">
          <p-skeleton
            shape="rectangle"
            width="100%"
            height="140px"
            animation="wave"
          ></p-skeleton>
        </div>
      </div>
  </div>
  <!-- skelton layout ends  -->




<div class="container-xxl" *ngIf="_eventId != null">
  <div class="topBar">
    <div class="row">
      <div class="col-lg-6">
        <div class="innerContent me-4">
          <p class="heading"><b class="">Participant Type</b></p>
          <div class="radioBox mt-2">
            <div class="flex-vc gap-4">
              <div
                class="flex-vc field-radiobutton"
                *ngFor="let item of _participantTypesList"
              >
                <p-radioButton
                  name="participantType"
                  [(ngModel)]="_selectedParticipantTypes"
                  (onClick)="currentParticipant($event)"
                  [value]="item"
                  [inputId]="item.participant_type_id"
                ></p-radioButton>
                <label for="city1">{{ item.participant_description }}</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="_showFixtureFormat" class="col-lg-6">
        <div class="innerContent">
          <p class="heading"><b>Fixture Format</b></p>
          <div class="radioBox mt-2">
            <div class="flex-vc gap-4">
              <div
                class="flex-vc field-radiobutton"
                *ngFor="let item of _fixtureFormat"
              >
                <p-radioButton
                  name="participantType"
                  [value]="item"
                  [(ngModel)]="_fixtureFormat[0]"
                  [inputId]="item.key"
                ></p-radioButton>
                <label for="city1">{{ item.name }}</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <p-divider></p-divider>
  <div class="centerElement mt-4">
    <div class="category">
      <p class="heading"><b class="">Category</b></p>
      <div class="common-tabView mt-3">
        <p-tabView (onChange)="tabSelection($event)">
          <p-tabPanel
            *ngFor="let item of _categoryList"
            [header]="item.category_description"
          >
            <div class="innerContent mt-3">
              <div class="topBar">
                <div class="flex-sb flex-vc"></div>
              </div>
            </div>
          </p-tabPanel>
        </p-tabView>
      </div>
      <div *ngIf="_subcategoryList.length>0" class="common-tabView">
        <p class="heading"><b class="">Sub Categories</b></p>
        <p-tabView (onChange)="subCategorySelection($event)">
          <p-tabPanel *ngFor="let item of _subcategoryList; let i = index" [header]="item.category_description"
            [selected]="_subcategoryList[i].category_id == this._currentCategoryId">
            <div class="innerContent mt-3">
              <div class="topBar">
                <div class="flex-sb flex-vc"></div>
              </div>
            </div>
          </p-tabPanel>
        </p-tabView>
      </div>
    </div>
  </div>
</div>
<div *ngIf="_eventId != null" class="class">
  <div class="container">
    <p class="my-3">Streamed Videos</p>
    <div class="flex-vc flexing">
      <span class="p-input-icon-left">
        <i class="p-green pi pi-search"></i>
        <input
          id="headerInput"
          [(ngModel)]="_searchByPlayerName"
          pInputText
          (keydown)="searchPlayer()"
          (keypress)="searchPlayer()"
          (keyup)="searchPlayer()"
          pInputText
          type="text"
          placeholder="Find Player"
        />
      </span>
      <!-- <div class="filter__image ">
                <img src="../../../../assets/icons/svg/filter.svg" alt="">
            </div>
            <div class="filter__image">
                <img src="../../../../assets/icons/svg/menu .svg" alt="">
            </div> -->
        </div>
        <div class="row my-3">
            <div class=" col-sm-3 my-2 gap-4" *ngFor="let item of _streamedVideos" >
                <!-- <img class="border-round" [src]="item.thumbnail" alt="" (click)="viewVideo(item)"> -->
                <mux-player [ngClass]="item.published===true ? '' : 'opacity'" stream-type="on-demand" attr.playback-id="{{item.asset_playback_id}}"
                    metadata-video-title="Test VOD" metadata-viewer-user-id="user-24601"></mux-player>
                    <div class="bannerContainer">
                        <p-overlayPanel appendTo="body" #menuPopup [showCloseIcon]="false"
                            [style]="{width: '150px'}">
                            <ng-template pTemplate>
                                <div class="common-popup">
                                    <div class="innerContent">
                                        <div class="overlay-item menuItem ">
                                            <a (click)="publishStreamedVideos(item,true)">Publish</a>
                                        </div>
                                        <div class="overlay-item menuItem ">
                                            <a (click)="publishStreamedVideos(item,false)">Unpublish</a>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </p-overlayPanel>
                        <div class="dropbtn">
                            <div class="dropdownUnpublish">
                                <button pButton pRipple (click)="menuPopup.toggle($event)" type="button"
                                    icon="pi pi-ellipsis-v"
                                    class="p-button-plain p-button-text p-button-rounded"></button>
                            </div>
                        </div>
                       
                    </div>
                <div class="playersInfo flex-vc">
                    <p class="pname text-overflow">{{item.participants[0]}}</p>
                    <p class="mx-2">VS</p>
                    <p class="pname text-overflow">{{item.participants[1]}}</p>
                </div>
            </div>
        </div>
      </div>
    </div>
    <div class="row my-3" *ngIf="_streamedVideos.length == 0">
      <p>No Streamed Video Found</p>
    </div>
    <!-- <div class="col-sm-3 ">
            <video src="https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4" width="100%" controls></video>
        </div>
    </div>
</div>
</div> -->
<!-- </div>
</div> -->

<div class="videoDialog">
  <p-dialog
    [resizable]="false"
    [(visible)]="_showVideoOnFullScreen"
    [closable]="true"
    [showHeader]="false"
    [modal]="true"
    [draggable]="false"
    [style]="{ width: '100vw', height: '100vh' }"
    [baseZIndex]="10000"
  >
    <div class="muxOverflow">
      <div class="topHeader">
        <div class="flex-sb px-3 py-2">
          <div class="flex-vc">
            <p class="pname text-overflow">{{ _playerAName }}</p>
            <p class="px-2">vs</p>
            <p class="pname text-overflow">{{ _playerBName }}</p>
          </div>
          <div class="flex-vc gap-4">
            <p class="type">{{ _participantTypeName }}</p>
            <p class="category">{{ _categoryName }}</p>
            <i
              (click)="closePopUp()"
              class="pi pi-times-circle text-white p-links"
            ></i>
          </div>
        </div>
      </div>
      <mux-player
        class="muxPlayer"
        stream-type="on-demand"
        attr.playback-id="{{ _currentAssetId }}"
        metadata-video-title="Test VOD"
        metadata-viewer-user-id="user-24601"
      ></mux-player>
    </div>
  </p-dialog>
</div>

<stupa-common-svg-msg
  *ngIf="_eventId === null"
  (eventClicked)="eventClicked()"
></stupa-common-svg-msg>

<p-toast position="bottom-right" key="bc"></p-toast>

<stupa-gif-loader *ngIf="_showLoader"></stupa-gif-loader>